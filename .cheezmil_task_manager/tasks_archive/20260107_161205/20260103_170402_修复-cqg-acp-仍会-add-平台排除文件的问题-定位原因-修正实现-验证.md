- [x] 1. 确认现象与复现方式（cqg acp 的 add 行为）
**关键做法**：用 `git ls-files` 确认问题根因：被排除的路径如果已被 track，`.gitignore`/exclude 都无法阻止它继续被 add/commit/push。
**下次注意**：需要区分“忽略未跟踪文件”与“清理已跟踪文件（git rm --cached）”两类问题。
- [x] 2. 检查配置文件 exclude-github 与平台选择逻辑
**关键做法**：确认 `.cheezmil_quick_git/config/git_platform_select.yml` 的 `excludeFile` 指向 `.cheezmil_quick_git/config/exclude-github`，并且 github remote 存在时应选用该排除文件。
**下次注意**：后续若要支持更复杂 YAML，考虑引入轻量 YAML 解析或约束配置格式。
- [x] 3. 检查 quick_add_commit_push.mjs/相关脚本如何执行 git add
**关键做法**：定位到 `.cheezmil_quick_git/quick_add_commit_push.mjs` 只是 `spawnSync('cqg', ['acp', ...])` 的包装，不在此处执行 `git add`，因此需要在调用前注入“应用排除规则”的步骤。
**下次注意**：如果用户直接运行全局 `cqg acp`，仍需在 cqg 本体项目里修；本仓库只能通过包装脚本规避。
- [x] 4. 实现“按平台排除”在 git add 阶段生效（避免被 add/commit/push）
**关键做法**：新增 `.cheezmil_quick_git/quick_apply_platform_exclude.mjs`：从 `git_platform_select.yml` 选平台→读取对应 exclude 文件→自动写入根 `.gitignore` 的标记区块；并在 `.cheezmil_quick_git/quick_add_commit_push.mjs` 调用 `cqg acp` 之前先执行该脚本。
**下次注意**：已跟踪的排除项仍会被提交，需要额外做“untrack”清理（需用户确认）。
- [x] 5. 验证：运行 cqg acp 前后 git status/ls-files，确保被排除项不再进入索引
**关键做法**：已运行 `node .cheezmil_quick_git/quick_apply_platform_exclude.mjs`，确认会自动写入根 `.gitignore` 的 `# cqg:auto-exclude` 区块，并能检测到当前已被 track 的排除路径（如 `.cheezmil_quick_git/`、`.roo/`）并给出提示。
**下次注意**：若要彻底让远端仓库不再出现这些文件，需要你确认后执行“仅从索引移除”的清理提交（`git rm -r --cached ...`）。
